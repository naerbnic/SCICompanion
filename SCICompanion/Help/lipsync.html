

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Lip-syncing &mdash; SCICompanion 3.0 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="SCICompanion 3.0 documentation" href="index.html"/>
        <link rel="up" title="Message Speech" href="messageaudio.html"/>
        <link rel="next" title="Audio file management." href="audiofiles.html"/>
        <link rel="prev" title="Audio recording in SCICompanion" href="recording.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> SCICompanion
          

          
          </a>

          
            
            
              <div class="version">
                3.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="intro.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="views.html">View Editor</a></li>
<li class="toctree-l1"><a class="reference internal" href="pics.html">Pic Editor</a></li>
<li class="toctree-l1"><a class="reference internal" href="scripts.html">Script editor</a></li>
<li class="toctree-l1"><a class="reference internal" href="legacy.html">The SCI0 class library</a></li>
<li class="toctree-l1"><a class="reference internal" href="classlibrary.html">The SCI1.1 class library</a></li>
<li class="toctree-l1"><a class="reference internal" href="sci_kernels.html">Kernel Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="sci_compiler.html">The SCI Compiler</a></li>
<li class="toctree-l1"><a class="reference internal" href="texts.html">Text Editor</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="messages.html">Message editor</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="messageaudio.html">Message Speech</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="recording.html">Audio recording in <strong>SCI</strong>Companion</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="">Lip-syncing</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="#phoneme-mapping">Phoneme mapping</a></li>
<li class="toctree-l4"><a class="reference internal" href="#generating-the-lip-sync-data">Generating the Lip Sync Data</a></li>
<li class="toctree-l4"><a class="reference internal" href="#using-the-sample-mouth">Using the sample mouth</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="audiofiles.html">Audio file management.</a></li>
<li class="toctree-l3"><a class="reference internal" href="messageaudio.html#quick-start">Quick start</a></li>
<li class="toctree-l3"><a class="reference internal" href="messageaudio.html#notes">Notes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="talkers.html">Talkers and Narrators</a></li>
<li class="toctree-l2"><a class="reference internal" href="messages.html#what-s-in-a-message">What&#8217;s in a message</a></li>
<li class="toctree-l2"><a class="reference internal" href="messages.html#speech">Speech</a></li>
<li class="toctree-l2"><a class="reference internal" href="messages.html#special-encodings">Special encodings</a></li>
<li class="toctree-l2"><a class="reference internal" href="messages.html#in-code">In Code</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="sounds.html">Sound Editor</a></li>
<li class="toctree-l1"><a class="reference internal" href="vocabs.html">Vocabs</a></li>
<li class="toctree-l1"><a class="reference internal" href="fonts.html">Font Editor</a></li>
<li class="toctree-l1"><a class="reference internal" href="cursors.html">Cursor Editor</a></li>
<li class="toctree-l1"><a class="reference internal" href="palettes.html">VGA Palette Editor</a></li>
<li class="toctree-l1"><a class="reference internal" href="audio.html">Digital Audio</a></li>
<li class="toctree-l1"><a class="reference internal" href="outputpane.html">Output Pane</a></li>
<li class="toctree-l1"><a class="reference internal" href="debugging.html">Debugger</a></li>
<li class="toctree-l1"><a class="reference internal" href="undo.html">Undo</a></li>
<li class="toctree-l1"><a class="reference internal" href="aspectratio.html">Aspect Ratio</a></li>
<li class="toctree-l1"><a class="reference internal" href="palettecycling.html">Palette cycling</a></li>
<li class="toctree-l1"><a class="reference internal" href="anatomy.html">Anatomy of an SCI game</a></li>
<li class="toctree-l1"><a class="reference internal" href="decompiler.html">Decompiler</a></li>
<li class="toctree-l1"><a class="reference internal" href="preferences.html">Preferences</a></li>
<li class="toctree-l1"><a class="reference internal" href="gameversion.html">Game/Interpreter Versions</a></li>
<li class="toctree-l1"><a class="reference internal" href="importexport.html">Importing and exporting resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="extractall.html">Extract All</a></li>
<li class="toctree-l1"><a class="reference internal" href="tips.html">Handy tips</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">SCICompanion</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
          <li><a href="messages.html">Message editor</a> &raquo;</li>
      
          <li><a href="messageaudio.html">Message Speech</a> &raquo;</li>
      
    <li>Lip-syncing</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/lipsync.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last">This section applies to SCI 1.1 only</p>
</div>
<div class="section" id="lip-syncing">
<h1>Lip-syncing<a class="headerlink" href="#lip-syncing" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>To generate lip-sync data, you need three things:</p>
<ol class="arabic simple">
<li>A message entry with spoke text audio associated with it</li>
<li>A view/loop for that message entry&#8217;s talker, which will correspond to its mouth</li>
<li>A mapping of phonemes to cels within the view/loop from (2).</li>
</ol>
<p>Step 3 is the most time-consuming to set up, but it only needs to be done once for a mouth view/loop.
Once steps 2 and 3 are done, most lip-syncing can be accomplished just by select a message entry and
clicking the &#8220;Quick Lip Sync&#8221; button.</p>
<div class="section" id="lip-sync-resources">
<h3>Lip Sync resources<a class="headerlink" href="#lip-sync-resources" title="Permalink to this headline">¶</a></h3>
<p>Sierra&#8217;s lip-sync resources (known as sync36) are fairly straightforward. They just consist of sequence of pairs of
values. The first value in each pair is the tick count (60 ticks per sound), and the second value in each pair
is the cel number in the mouth view/loop that should be used at that time.</p>
</div>
<div class="section" id="lip-sync-dialog">
<h3>Lip Sync dialog<a class="headerlink" href="#lip-sync-dialog" title="Permalink to this headline">¶</a></h3>
<p>Open the Lip Sync dialog by selecting a message entry with audio and clicking on the &#8220;Advanced&#8221; button.
You should see something like this:</p>
<img alt="_images/LipSyncDialog.png" src="_images/LipSyncDialog.png" />
</div>
<div class="section" id="associating-a-talker-number-with-a-view-loop">
<h3>Associating a talker number with a view/loop.<a class="headerlink" href="#associating-a-talker-number-with-a-view-loop" title="Permalink to this headline">¶</a></h3>
<p>In the Lip Sync dialog, you can use the <em>Set View</em> button to associate the given talker number with
a view and loop. Once that is done, the mouth loop will appear in the dialog and in the message editor
when a message entry with that talker number is selected. This only needs to be done once per talker.</p>
<p>This information is stored inside <em>talker_to_view.ini</em> in your game&#8217;s <em>lipsync</em> directory, and is only used by <strong>SCI</strong>Companion.</p>
</div>
</div>
<div class="section" id="phoneme-mapping">
<h2>Phoneme mapping<a class="headerlink" href="#phoneme-mapping" title="Permalink to this headline">¶</a></h2>
<p>For a given view loop, we need to create a mapping of phonemes to the cels corresponding to the mouth
shapes for that phoneme. To get an idea of which mouth shapes correspond to which phonemes, you can try
an internet search for &#8220;lip sync mouth shapes&#8221;.</p>
<p>From the Lip Sync dialog, click the <em>Edit</em> button to edit the phoneme-to-cel mapping. By default, all the phonemes
will be associated with cel 0. You can drag the phonemes alongside the different cels to complete the mapping.</p>
<img alt="_images/PhonemeEditor.png" src="_images/PhonemeEditor.png" />
<p>You can test it be having the mouth read the text at the bottom of the dialog, which contains all US English phonemes.</p>
<p>Once you&#8217;re done, click <em>Ok</em> to accept the changes.</p>
<p>This information will be stored in a file in the <em>lipsync</em> folder of your game. It&#8217;s only used by <strong>SCI</strong>Companion, not the actual game.
If you prefer to edit the phonemes manually, you can open and reload the phoneme file directly from the Lip Sync dialog.</p>
</div>
<div class="section" id="generating-the-lip-sync-data">
<h2>Generating the Lip Sync Data<a class="headerlink" href="#generating-the-lip-sync-data" title="Permalink to this headline">¶</a></h2>
<p>Once you have a view/loop and phoeneme mapping set up for a talker, you can generate Lip Sync data directly from the message
editor (<em>Quick Lip Sync</em>). You can do it from the Lip Sync dialog, which has more options. The dialog will draw the phonemes
directly on the audio waveform, and show you the words that the Lip Sync extraction functionality guessed.</p>
<p>You can also save the lip sync data to a file so you can edit it manually if necessary.</p>
<p>The more clearly you speak, the better the data generated will be. You can also choose to provide the message text to the
lip sync data generator (the <em>Use Text</em> checkbox). Sometimes this will produce a better result. However, it may also make things worse and try to align
the words to the wrong spoken words, generating data that is not aligned with the speech. Try both to see which is better for
a particular recording.</p>
<p>When you are generating lip-sync data from speech you recorded in <strong>SCI</strong>Companion, the audio negative will be used. The same audio processing
will be run on it, but the lip sync engine is provided with a 16-bit version of the result (even if you specified the final audio resource to be 8-bit). This
generates significantly better results.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Currently <strong>SCI</strong>Companion only supports US English phoneme detection. As lip-syncing does not need to be 100% accurate, this may suffice
for other languages and accents too. If there is enough demand however, this could be made extensible to other languages.</p>
</div>
</div>
<div class="section" id="using-the-sample-mouth">
<h2>Using the sample mouth<a class="headerlink" href="#using-the-sample-mouth" title="Permalink to this headline">¶</a></h2>
<p>If you just want to play around with lip-syncing without the overhead of drawing a mouth view and setting a phoneme mapping for it,
you can use the sample mouth (and its associated phoneme mapping) that comes with <strong>SCI</strong>Companion. In the Lip Sync dialog, you can
check <em>Use Sample</em> to do this.</p>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="audiofiles.html" class="btn btn-neutral float-right" title="Audio file management." accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="recording.html" class="btn btn-neutral" title="Audio recording in SCICompanion" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, Phil Fortier.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'3.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>