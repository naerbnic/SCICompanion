<html>
<head>
<title>Class: Game</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
</head>

<body bgcolor="#FFFFFF" text="#000000" leftmargin="0" topmargin="0" marginwidth="0" marginheight="0">
<table width="100%" border="0" cellspacing="0" cellpadding="4">
  <tr bgcolor="#a0a0a0"> 
    <td bgcolor="#a0a0a0"><font size="4" face="Tahoma" color="#FFFFFF"><b>Class: 
      Game </b>(of <a href="class_obj.html">Obj</a>)</font></td>
  </tr>
  <tr> 
    <td> 
      <p><font face="Tahoma" size="2">The Game class is the main class of your 
        game. It is where the program begins, and where it ends.</font></p>
      <p><font face="Tahoma" size="2"><b><font size="3">Properties</font></b></font></p>
      <ul>
        <li><font size="2" face="tahoma">script</font></li>
        </ul>
      <p><font face="Tahoma" size="2"><b><font size="3">Methods</font></b></font></p>
      <ul>
        <li> 
          <table width="100%" border="0" cellspacing="1" cellpadding="2">
            <tr> 
              <td bgcolor="#DDDDDD" height="22"><font size="3" face="tahoma">void 
                <b>init</b>()</font></td>
            </tr>
            <tr> 
              <td bgcolor="#F8F8F8"> 
                <p><font size="2" face="tahoma">Sets up all of the main classes 
                  and global variables in your game. </font></p>
                <p><font size="2" face="tahoma">First, it sets up the cast (gCast), 
                  features (gFeatures), sFeatures (gSFeatures), sounds (gSounds), 
                  regions (gRegions), locales (gLocales), addToPics (gAddToPics) 
                  and timers (gTimer). Next, it sets up the global gSaveDirPtr 
                  to a pointer to the save directory string buffer. Finally, it 
                  initalizes the inventory (Inv) and user (User).</font></p>
              </td>
            </tr>
          </table>
        </li>
        <li> 
          <table width="100%" border="0" cellspacing="1" cellpadding="2">
            <tr> 
              <td bgcolor="#DDDDDD" height="22"><font size="3" face="tahoma">bool 
                <b>doit</b>()</font></td>
            </tr>
            <tr> 
              <td bgcolor="#F8F8F8"> 
                <p><font size="2" face="tahoma">Performs all of the main game 
                  actions.</font></p>
                <p><font face="tahoma" size="2">It begins by checking the sounds 
                  and timers. If there's a print dialog (gPrintDlg), it checks 
                  it to see if it's timer is up and it should automatically close. 
                  It animates the cast, and if gCastMotionCue is set, motion cues 
                  the cast. It then executes the script's doit() method if the 
                  script property is set. It calls doit() for each of the regions, 
                  then if gRoomNumber is equal to gRoomNumberExit, calls User's 
                  doit(), otherwise, executes the newRoom() method. It deletes 
                  the timers, then returns whether the game is restarting.</font></p>
              </td>
            </tr>
          </table>
        </li>
        <li> 
          <table width="100%" border="0" cellspacing="1" cellpadding="2">
            <tr> 
              <td bgcolor="#DDDDDD" height="22"><font size="3" face="tahoma">void 
                <b>showSelf</b>()</font></td>
            </tr>
            <tr> 
              <td bgcolor="#F8F8F8"> 
                <p><font face="tahoma" size="2">Calls the regions' showSelf() 
                  method. </font></p>
              </td>
            </tr>
          </table>
        </li>
        <li> 
          <table width="100%" border="0" cellspacing="1" cellpadding="2">
            <tr> 
              <td bgcolor="#DDDDDD" height="22"><font size="3" face="tahoma">void 
                <b>play</b>()</font></td>
            </tr>
            <tr> 
              <td bgcolor="#F8F8F8"> 
                <p><font size="2" face="tahoma">This is the main method of your 
                  game. It is where the execution begins and ends.</font></p>
                <p><font size="2" face="tahoma"> It assigns the game class to 
                  the global gGame and the a pointer to the save directory to 
                  global gSaveDirPtr.If the game is not restarting, the obtains 
                  the current working directory. It then sets the cursor to the 
                  loading cursor, calls the game instance's init() method, and 
                  sets it back to the normal cursor. It then loops calling the 
                  game instance's doit() method and waiting according to the game 
                  speed until the global gQUIT_FLAG is set.</font></p>
              </td>
            </tr>
          </table>
        </li>
        <li> 
          <table width="100%" border="0" cellspacing="1" cellpadding="2">
            <tr> 
              <td bgcolor="#DDDDDD" height="22"><font size="3" face="tahoma">void 
                <b>replay</b>()</font></td>
            </tr>
            <tr> 
              <td bgcolor="#F8F8F8"> 
                <p><font size="2" face="tahoma">Similar to the play() method, 
                  but is called after a game is restored.</font></p>
              </td>
            </tr>
          </table>
        </li>
        <li> 
          <table width="100%" border="0" cellspacing="1" cellpadding="2">
            <tr> 
              <td bgcolor="#DDDDDD" height="22"><font size="3" face="tahoma">void 
                <b>newRoom</b>(number roomNum)</font></td>
            </tr>
            <tr> 
              <td bgcolor="#F8F8F8"> 
                <p><font face="tahoma" size="2">Changes the room to roomNum. This 
                  is called when the user enters doors, or hits the edge of the 
                  screen. To change a room in your game, you should use global 
                  gRoom's newRoom() method.</font></p>
              </td>
            </tr>
          </table>
        </li>
        <li> 
          <table width="100%" border="0" cellspacing="1" cellpadding="2">
            <tr> 
              <td bgcolor="#DDDDDD" height="22"><font size="3" face="tahoma">void 
                <b>startRoom</b>(number roomNum)</font></td>
            </tr>
            <tr> 
              <td bgcolor="#F8F8F8"> 
                <p><font face="tahoma" size="2">Initalizes and sets up a new room.</font></p>
              </td>
            </tr>
          </table>
        </li>
        <li> 
          <table width="100%" border="0" cellspacing="1" cellpadding="2">
            <tr> 
              <td bgcolor="#DDDDDD" height="22"><font size="3" face="tahoma">void 
                <b>restart</b>()</font></td>
            </tr>
            <tr> 
              <td bgcolor="#F8F8F8"> 
                <p><font face="tahoma" size="2">Restarts the game.</font></p>
              </td>
            </tr>
          </table>
        </li>
        <li> 
          <table width="100%" border="0" cellspacing="1" cellpadding="2">
            <tr> 
              <td bgcolor="#DDDDDD" height="22"><font size="3" face="tahoma">void 
                <b>restore</b>(<i>[string strDescription]</i>)</font></td>
            </tr>
            <tr> 
              <td bgcolor="#F8F8F8"> 
                <p><font face="tahoma" size="2">Restores a game. If specified, 
                  it the default game to open will be the one which has a description 
                  matching strDescription.</font></p>
                <p><font face="tahoma" size="2">It executes the SRDialog as a 
                  restore dialog, and if a game is selected, attempts to restore 
                  it. </font></p>
              </td>
            </tr>
          </table>
        </li>
        <li> 
          <table width="100%" border="0" cellspacing="1" cellpadding="2">
            <tr> 
              <td bgcolor="#DDDDDD" height="22"><font size="3" face="tahoma">void 
                <b>save</b>()</font></td>
            </tr>
            <tr> 
              <td bgcolor="#F8F8F8"> 
                <p><font face="tahoma" size="2">Saves a game.</font></p>
                <p><font face="tahoma" size="2">It executes the SRDialog as a 
                  save dialog, and if a game is selected, attempts to save to 
                  it. </font></p>
              </td>
            </tr>
          </table>
        </li>
        <li> 
          <table width="100%" border="0" cellspacing="1" cellpadding="2">
            <tr> 
              <td bgcolor="#DDDDDD" height="22"><font size="3" face="tahoma">void 
                <b>changeScore</b>(number addPoints)</font></td>
            </tr>
            <tr> 
              <td bgcolor="#F8F8F8"> 
                <p><font face="tahoma" size="2">Adds addPoints to the game's score 
                  (global variable gScore).</font></p>
              </td>
            </tr>
          </table>
        </li>
        <li> 
          <table width="100%" border="0" cellspacing="1" cellpadding="2">
            <tr> 
              <td bgcolor="#DDDDDD" height="22"><font size="3" face="tahoma">bool 
                <b>handleEvent</b>(heapPtr pEvent)</font></td>
            </tr>
            <tr> 
              <td bgcolor="#F8F8F8"> 
                <p><font face="tahoma" size="2">Calls the handleEvent() method 
                  from the regions class (pointed to by gRegions). If it returns 
                  TRUE, it will return whether pEvent has been claimed or not. 
                  If it returns FALSE, it calls the handleEvent() method from 
                  the locales class (pointed to by gLocales). If it returns TRUE, 
                  it will return whether pEvent has been claimed or not. Finally, 
                  if both are FALSE, and the script property is set, it calls 
                  the script's handleEvent() method. It then returns whether pEvent 
                  has been claimed or not.</font></p>
              </td>
            </tr>
          </table>
        </li>
        <li> 
          <table width="100%" border="0" cellspacing="1" cellpadding="2">
            <tr> 
              <td bgcolor="#DDDDDD" height="22"><font size="3" face="tahoma">void<b> 
                showMem</b>()</font></td>
            </tr>
            <tr> 
              <td bgcolor="#F8F8F8"> 
                <p><font face="tahoma" size="2">Displays current memory information 
                  in a dialog box.</font></p>
              </td>
            </tr>
          </table>
        </li>
        <li> 
          <table width="100%" border="0" cellspacing="1" cellpadding="2">
            <tr> 
              <td bgcolor="#DDDDDD" height="22"><font size="3" face="tahoma">number 
                <b>setSpeed</b>(number newSpeed)</font></td>
            </tr>
            <tr> 
              <td bgcolor="#F8F8F8"> 
                <p><font face="tahoma" size="2">Sets the game's speed to newSpeed 
                  and returns the previous speed.</font></p>
              </td>
            </tr>
          </table>
        </li>
        <li> 
          <table width="100%" border="0" cellspacing="1" cellpadding="2">
            <tr> 
              <td bgcolor="#DDDDDD" height="22"><font size="3" face="tahoma">void 
                <b>checkAni</b>()</font></td>
            </tr>
            <tr> 
              <td bgcolor="#F8F8F8"> 
                <p><font face="tahoma" size="2">Adds the cast members which are 
                  extras to the picture, then calls kernel <a href="kernel_animate.html">Animate()</a> 
                  for the cast.</font></p>
              </td>
            </tr>
          </table>
        </li>
        <li> 
          <table width="100%" border="0" cellspacing="1" cellpadding="2">
            <tr> 
              <td bgcolor="#DDDDDD" height="22"><font size="3" face="tahoma">void 
                <b>notify</b>()</font></td>
            </tr>
            <tr> 
              <td bgcolor="#F8F8F8"> 
                <p><font face="tahoma" size="2">In the Game class, this is just 
                  an empty place holder.</font></p>
              </td>
            </tr>
          </table>
        </li>
        <li> 
          <table width="100%" border="0" cellspacing="1" cellpadding="2">
            <tr> 
              <td bgcolor="#DDDDDD" height="22"><font size="3" face="tahoma">void 
                <b>setScript</b>(heapPtr newScript<i>[, heapPtr theCaller, number 
                theRegister]</i>)</font></td>
            </tr>
            <tr> 
              <td bgcolor="#F8F8F8"> 
                <p><font face="tahoma" size="2">Disposes the current script pointed 
                  to by the script property. If newScript is not NULL, it initializes 
                  it with theCaller and theRegister is specified.</font></p>
              </td>
            </tr>
          </table>
        </li>
        <li> 
          <table width="100%" border="0" cellspacing="1" cellpadding="2">
            <tr> 
              <td bgcolor="#DDDDDD" height="22"><font size="3" face="tahoma">void 
                <b>cue</b>()</font></td>
            </tr>
            <tr> 
              <td bgcolor="#F8F8F8"> 
                <p><font face="tahoma" size="2">If the script property is set, 
                  it call's it's cue() method.</font></p>
              </td>
            </tr>
          </table>
        </li>
        <li> 
          <table width="100%" border="0" cellspacing="1" cellpadding="2">
            <tr> 
              <td bgcolor="#DDDDDD" height="22"><font size="3" face="tahoma">bool 
                <b>wordFail</b>(string aWord)</font></td>
            </tr>
            <tr> 
              <td bgcolor="#F8F8F8"> 
                <p><font face="tahoma" size="2">Prints &quot;I don't understand 
                  &lt;aWord&gt;&quot; to the screen in a dialog box. It always 
                  returns FALSE. </font></p>
              </td>
            </tr>
          </table>
        </li>
        <li> 
          <table width="100%" border="0" cellspacing="1" cellpadding="2">
            <tr> 
              <td bgcolor="#DDDDDD" height="22"><font size="3" face="tahoma">void<b> 
                syntaxFail</b>()</font></td>
            </tr>
            <tr> 
              <td bgcolor="#F8F8F8"> 
                <p><font face="tahoma" size="2">Prints a message indicating that 
                  the line parsed doesn't appear to be a proper sentence.</font></p>
              </td>
            </tr>
          </table>
        </li>
        <li> 
          <table width="100%" border="0" cellspacing="1" cellpadding="2">
            <tr> 
              <td bgcolor="#DDDDDD" height="22"><font size="3" face="tahoma">void<b> 
                semanticFail</b>()</font></td>
            </tr>
            <tr> 
              <td bgcolor="#F8F8F8"> 
                <p><font face="tahoma" size="2">Prints a message indicating that 
                  the sentence parsed doesn't make sense.</font></p>
              </td>
            </tr>
          </table>
        </li>
        <li>
          <table width="100%" border="0" cellspacing="1" cellpadding="2">
            <tr> 
              <td bgcolor="#DDDDDD" height="22"><font size="3" face="tahoma">void<b> 
                pragmaFail</b>()</font></td>
            </tr>
            <tr> 
              <td bgcolor="#F8F8F8"> 
                <p><font face="tahoma" size="2">Prints the message &quot;You've 
                  left me responseless&quot;.</font></p>
              </td>
            </tr>
          </table>
        </li>
      </ul>
      </td>
  </tr>
</table>
</body>
</html>
