<html>
<head>
<title>Class: Rm</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
</head>

<body bgcolor="#FFFFFF" text="#000000" leftmargin="0" topmargin="0" marginwidth="0" marginheight="0">
<table width="100%" border="0" cellspacing="0" cellpadding="4">
  <tr bgcolor="#a0a0a0"> 
    <td bgcolor="#a0a0a0"><font size="4" face="Tahoma" color="#FFFFFF"><b>Class: 
      Rm</b> (of <a href="class_obj.html">Obj</a>)</font></td>
  </tr>
  <tr> 
    <td> 
      <p><font face="Tahoma" size="2">The Rm class is the class for rooms. Each 
        room in your game is built of an instance of this class..</font></p>
      <p><font face="Tahoma" size="2"><b><font size="3">Properties</font></b></font></p>
      <ul>
        <li><font size="2" face="tahoma">scripts</font></li>
        <li><font size="2" face="tahoma">number</font></li>
        <li><font size="2" face="tahoma">timer</font></li>
        <li><font size="2" face="tahoma">keep</font></li>
        <li><font size="2" face="tahoma">initialized</font></li>
        <li><font size="2" face="tahoma">picture</font></li>
        <li><font size="2" face="tahoma">style</font></li>
        <li><font size="2" face="tahoma">horizon</font></li>
        <li><font size="2" face="tahoma">controls</font></li>
        <li><font size="2" face="tahoma">north</font></li>
        <li><font size="2" face="tahoma">east</font></li>
        <li><font size="2" face="tahoma">south</font></li>
        <li><font size="2" face="tahoma">west</font></li>
        <li><font size="2" face="tahoma">curPic</font></li>
        <li><font size="2" face="tahoma">picAngle</font></li>
        <li><font size="2" face="tahoma">vanishingX</font></li>
        <li><font size="2" face="tahoma">vanishingY</font></li>
      </ul>
      <p><font face="Tahoma" size="2"><b><font size="3">Methods</font></b></font></p>
      <ul>
        <li> 
          <table width="100%" border="0" cellspacing="1" cellpadding="2">
            <tr> 
              <td bgcolor="#DDDDDD" height="22"><font size="3" face="tahoma">void 
                <b>init</b>()</font></td>
            </tr>
            <tr> 
              <td bgcolor="#F8F8F8"> 
                <p><font size="2" face="tahoma">Sets up the room object.</font></p>
                <p><font face="tahoma" size="2">sets up the number and controls 
                  properties, and the global variable gPicAngle to the picAngle 
                  property. It draws it's picture if specified. It then sets up 
                  the ego's position based on the edge hit. Finally, it's sets 
                  it's edge hit to EDGE_NONE.</font></p>
              </td>
            </tr>
          </table>
        </li>
        <li> 
          <table width="100%" border="0" cellspacing="1" cellpadding="2">
            <tr> 
              <td bgcolor="#DDDDDD" height="22"><font size="3" face="tahoma">void 
                <b>doit</b>()</font></td>
            </tr>
            <tr> 
              <td bgcolor="#F8F8F8"> 
                <p><font size="2" face="tahoma">If the script property is set, 
                  it calls the script's doit() method. It checks if an edge has 
                  been hit, and if it has, calls newRoom for it's specified script 
                  (north,east,west, south).</font></p>
              </td>
            </tr>
          </table>
        </li>
        <li> 
          <table width="100%" border="0" cellspacing="1" cellpadding="2">
            <tr> 
              <td bgcolor="#DDDDDD" height="21"><font size="3" face="tahoma">void 
                <b>dispose</b>()</font></td>
            </tr>
            <tr> 
              <td bgcolor="#F8F8F8"> 
                <p><font face="tahoma" size="2">Disposes it's controls, then itself.</font></p>
              </td>
            </tr>
          </table>
        </li>
        <li> 
          <table width="100%" border="0" cellspacing="1" cellpadding="2">
            <tr> 
              <td bgcolor="#DDDDDD" height="22"><font size="3" face="tahoma">bool 
                <b>handleEvent</b>(heapPtr pEvent)</font></td>
            </tr>
            <tr> 
              <td bgcolor="#F8F8F8"> 
                <p><font face="tahoma" size="2">It calls it's super's handleEvent() 
                  method. If it is TRUE, or the controls property is set, it calls 
                  the control's handleEvent() method. It then returns whether 
                  pEvent has been claimed or not.</font></p>
              </td>
            </tr>
          </table>
        </li>
        <li> 
          <table width="100%" border="0" cellspacing="1" cellpadding="2">
            <tr> 
              <td bgcolor="#DDDDDD" height="22"><font size="3" face="tahoma">void<b> 
                newRoom</b>(number newRoomNum)</font></td>
            </tr>
            <tr> 
              <td bgcolor="#F8F8F8"> 
                <p><font face="tahoma" size="2">Changes the room.</font></p>
                <p><font face="tahoma" size="2">It prepares the regions for a 
                  new room, then sets the global gRoomNumber to newRoomNum and 
                  calls the game class' newRoom() method.</font></p>
              </td>
            </tr>
          </table>
        </li>
        <li> 
          <table width="100%" border="0" cellspacing="1" cellpadding="2">
            <tr> 
              <td bgcolor="#DDDDDD" height="22"><font size="3" face="tahoma">void 
                <b>setRegions</b>(number(s) scriptNumbers)</font></td>
            </tr>
            <tr> 
              <td bgcolor="#F8F8F8"> 
                <p><font face="tahoma" size="2">Adds the specified script numbers 
                  to the regions list and initializes them.</font></p>
              </td>
            </tr>
          </table>
        </li>
        <li> 
          <table width="100%" border="0" cellspacing="1" cellpadding="2">
            <tr> 
              <td bgcolor="#DDDDDD" height="22"><font size="3" face="tahoma">void 
                <b>setFeatures</b>(heapPtr(s) features)</font></td>
            </tr>
            <tr> 
              <td bgcolor="#F8F8F8"> 
                <p><font face="tahoma" size="2">Adds the specified features to 
                  the features list.</font></p>
              </td>
            </tr>
          </table>
        </li>
        <li> 
          <table width="100%" border="0" cellspacing="1" cellpadding="2">
            <tr> 
              <td bgcolor="#DDDDDD" height="22"><font size="3" face="tahoma">void 
                <b>setLocales</b>(number(s) scriptNumbers)</font></td>
            </tr>
            <tr> 
              <td bgcolor="#F8F8F8"> 
                <p><font face="tahoma" size="2">Adds the specified script numbers 
                  to the locales list and initializes them.</font></p>
              </td>
            </tr>
          </table>
        </li>
        <li> 
          <table width="100%" border="0" cellspacing="1" cellpadding="2">
            <tr> 
              <td bgcolor="#DDDDDD" height="22"><font size="3" face="tahoma">void 
                <b>drawPic</b>(number picNum<i>[, number picAni]</i>)</font></td>
            </tr>
            <tr> 
              <td bgcolor="#F8F8F8"> 
                <p><font face="tahoma" size="2">Draws the specified picture.</font></p>
                <p><font face="tahoma" size="2">It disposes all the addToPic elements, 
                  sets the global gOverlay to -1 and sets it's curPic property 
                  to picNum. If picAni is specified, it draws the picture, clearing 
                  the screen first with the picAni animation and gDefaultPalette 
                  as it's palette. Otherwise, if the style property is not -1, 
                  it draws the picture, clearing the screen first with the style 
                  animation and gDefaultPalette as it's palette. Otherwise, if 
                  the style property is -1, it draws the picture, clearing the 
                  screen first with gDefaultPicAni as it's animation and gDefaultPalette 
                  as it's palette.</font></p>
              </td>
            </tr>
          </table>
        </li>
        <li>
          <table width="100%" border="0" cellspacing="1" cellpadding="2">
            <tr> 
              <td bgcolor="#DDDDDD" height="22"><font size="3" face="tahoma">void 
                <b>overlay</b>(number picNum<i>[, number picAni]</i>)</font></td>
            </tr>
            <tr> 
              <td bgcolor="#F8F8F8"> 
                <p><font face="tahoma" size="2">Draws the specified picture over 
                  the current picture.</font></p>
                <p><font face="tahoma" size="2">It sets the global gOverlay to 
                  picNum. If picAni is specified, it draws the picture, without 
                  clearing the screen first with the picAni animation and gDefaultPalette 
                  as it's palette. Otherwise, if the style property is not -1, 
                  it draws the picture, without clearing the screen first with 
                  the style animation and gDefaultPalette as it's palette. Otherwise, 
                  if the style property is -1, it draws the picture, without clearing 
                  the screen first with gDefaultPicAni as it's animation and gDefaultPalette 
                  as it's palette.</font></p>
              </td>
            </tr>
          </table>
        </li>
      </ul>
      </td>
  </tr>
</table>
</body>
</html>
