

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Anatomy of an SCI game &mdash; SCICompanion 3.0 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="SCICompanion 3.0 documentation" href="index.html"/>
        <link rel="next" title="Decompiler" href="decompiler.html"/>
        <link rel="prev" title="Palette cycling" href="palettecycling.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> SCICompanion
          

          
          </a>

          
            
            
              <div class="version">
                3.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="intro.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="views.html">View Editor</a></li>
<li class="toctree-l1"><a class="reference internal" href="pics.html">Pic Editor</a></li>
<li class="toctree-l1"><a class="reference internal" href="scripts.html">Script editor</a></li>
<li class="toctree-l1"><a class="reference internal" href="classlibrary.html">The SCI1.1 class library</a></li>
<li class="toctree-l1"><a class="reference internal" href="sci_kernels.html">Kernel Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="sci_compiler.html">The SCI Compiler</a></li>
<li class="toctree-l1"><a class="reference internal" href="texts.html">Text Editor</a></li>
<li class="toctree-l1"><a class="reference internal" href="messages.html">Message editor</a></li>
<li class="toctree-l1"><a class="reference internal" href="sounds.html">Sound Editor</a></li>
<li class="toctree-l1"><a class="reference internal" href="vocabs.html">Vocabs</a></li>
<li class="toctree-l1"><a class="reference internal" href="fonts.html">Font Editor</a></li>
<li class="toctree-l1"><a class="reference internal" href="cursors.html">Cursor Editor</a></li>
<li class="toctree-l1"><a class="reference internal" href="palettes.html">VGA Palette Editor</a></li>
<li class="toctree-l1"><a class="reference internal" href="audio.html">Digital Audio</a></li>
<li class="toctree-l1"><a class="reference internal" href="outputpane.html">Output Pane</a></li>
<li class="toctree-l1"><a class="reference internal" href="debugging.html">Debugger</a></li>
<li class="toctree-l1"><a class="reference internal" href="undo.html">Undo</a></li>
<li class="toctree-l1"><a class="reference internal" href="aspectratio.html">Aspect Ratio</a></li>
<li class="toctree-l1"><a class="reference internal" href="palettecycling.html">Palette cycling</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Anatomy of an SCI game</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#the-interpreter">The interpreter</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1">DOSBox</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2">ScummVM</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#the-game-resources">The game resources</a></li>
<li class="toctree-l2"><a class="reference internal" href="#configuration-file">Configuration File</a></li>
<li class="toctree-l2"><a class="reference internal" href="#drivers">Drivers</a></li>
<li class="toctree-l2"><a class="reference internal" href="#source-files">Source Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="#other-files">Other files</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="decompiler.html">Decompiler</a></li>
<li class="toctree-l1"><a class="reference internal" href="preferences.html">Preferences</a></li>
<li class="toctree-l1"><a class="reference internal" href="gameversion.html">Game/Interpreter Versions</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">SCICompanion</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Anatomy of an SCI game</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/anatomy.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="anatomy-of-an-sci-game">
<h1>Anatomy of an SCI game<a class="headerlink" href="#anatomy-of-an-sci-game" title="Permalink to this headline">¶</a></h1>
<p>SCI games consist of the following things:</p>
<blockquote>
<div><ul class="simple">
<li>An interpreter</li>
<li>A package of game resources, including scripts which compile to byte-code and are run by the interpreter. This is where all the game-specific stuff is.</li>
<li>A configuration file</li>
<li>Drivers</li>
<li>Source files, for games created with SCIStudio or <strong>SCI</strong>Companion</li>
</ul>
</div></blockquote>
<div class="section" id="the-interpreter">
<h2>The interpreter<a class="headerlink" href="#the-interpreter" title="Permalink to this headline">¶</a></h2>
<p>The Sierra interpreters included in the template games are named <strong>sciv.exe</strong> (for SCI0) and <strong>sierra.exe</strong> (for SCI1.1).
They are both 16-bit DOS programs, so they won&#8217;t run natively on a modern 64-bit Windows operating system. In this case,
there are two primary options: <a class="reference external" href="http://www.dosbox.com">DOSBox</a> and <a class="reference external" href="http://scummvm.org">ScummVM</a>.</p>
<div class="section" id="id1">
<h3>DOSBox<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="http://www.dosbox.com">DOSBox</a> is a DOS emulator that can be used to run SCI games. A version of it comes with SCI Companion, and by default the
template game is set up to use this. You can also point your game to a version of DOSBox that you have already installed.</p>
</div>
<div class="section" id="id2">
<h3>ScummVM<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<p>From the <a class="reference external" href="http://scummvm.org">ScummVM</a> website:</p>
<blockquote>
<div>ScummVM is a program which allows you to run certain classic graphical point-and-click adventure games, provided you already have their data files.
ScummVM just replaces the executables shipped with the games, allowing you to play them on systems for which they were never designed!</div></blockquote>
<p>When you run the game using ScummVM, Sierra&#8217;s interpreters aren&#8217;t even used. ScummVM also has additional features, like a built-in debugger,
the ability to render the dithered palettes from SCI0 games with better fidelity, and the ability to play multiple digital audio files at once.</p>
</div>
</div>
<div class="section" id="the-game-resources">
<h2>The game resources<a class="headerlink" href="#the-game-resources" title="Permalink to this headline">¶</a></h2>
<p>This is where the actual game code, graphics, and sounds are. These files generally consist of a <strong>.map</strong> file that serves as an index, and then
a package file where the actual resources are. Older games that came on multiple low-capacity floppy disks generally have a package file for each
disk, but this isn&#8217;t needed anymore.</p>
<p>The file structure varies quite a bit over the various versions of SCI, but here is a table of what they are in the template games:</p>
<p>Resource files in the SCI0 template game:</p>
<table border="1" class="docutils">
<colgroup>
<col width="48%" />
<col width="52%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="2">SCI0 template game</th>
</tr>
<tr class="row-even"><th class="head">Map file</th>
<th class="head">Package file</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-odd"><td>resource.map</td>
<td>resource.001</td>
</tr>
</tbody>
</table>
<p>Resource files in the SCI1.1 template game:</p>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="31%" />
<col width="43%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="3">SCI1.1 template game</th>
</tr>
<tr class="row-even"><th class="head">Map file</th>
<th class="head">Package file</th>
<th class="head">Comments</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-odd"><td>resource.map</td>
<td>resource.000</td>
<td>Non-audio resources</td>
</tr>
<tr class="row-even"><td>_</td>
<td>resource.sfx</td>
<td>Digital audio sfx</td>
</tr>
<tr class="row-odd"><td>_</td>
<td>resource.aud</td>
<td>Digital audio speech</td>
</tr>
</tbody>
</table>
<p>Audio package files have their own map (index) associated with them. In the template game, this is
actually included as a resource in resource.000, but some Sierra games split this out as a separate 65535.map file.</p>
<p>Some Sierra games split out the message resources too, so you&#8217;ll see message.map (the message resource index)
and resource.msg (the actual message resources). In the SCI1.1 template game, message resource index is included
in resource.map.</p>
</div>
<div class="section" id="configuration-file">
<h2>Configuration File<a class="headerlink" href="#configuration-file" title="Permalink to this headline">¶</a></h2>
<p>In the game&#8217;s folder is a <strong>resource.cfg</strong> file. This specifies which driver files to use for video, MIDI sound, digital audio,
keyboard, and the mouse (these are used if you&#8217;re running natively in DOS, or in <a class="reference external" href="http://www.dosbox.com">DOSBox</a>, but would be ignored if you&#8217;re running in <a class="reference external" href="http://scummvm.org">ScummVM</a>). Most users won&#8217;t need to change anything in this
file, but more advanced users might want to change the sound drivers, for instance, if they are using MIDI sound resources that only sound correct with
a certain sound driver.</p>
</div>
<div class="section" id="drivers">
<h2>Drivers<a class="headerlink" href="#drivers" title="Permalink to this headline">¶</a></h2>
<p>You notice a plethora of <strong>.DRV</strong> files in the game folder. These comprise the DOS drivers used by Sierra&#8217;s interpreter.
If you want, you can remove the ones that aren&#8217;t listed in resource.cfg.</p>
</div>
<div class="section" id="source-files">
<h2>Source Files<a class="headerlink" href="#source-files" title="Permalink to this headline">¶</a></h2>
<p>If you&#8217;ve created a game with SCIStudio or <strong>SCI</strong>Companion, you&#8217;ll see a <strong>src</strong> folder in your game&#8217;s main folder. This is where the source files (*.sc) and object files (*.sco) exist, in addition to any game-specific header files (*.sh).</p>
<p>In addition, if you created an SCI1.1 game with <strong>SCI</strong>Companion, you&#8217;ll see the following folders:</p>
<ul class="simple">
<li><strong>msg</strong>: This is where the message header files (*.shm) exist. See <a class="reference internal" href="messages.html"><em>Message editor</em></a>.</li>
<li><strong>poly</strong>: This is where the polygon header files (*.shp) exist. See <a class="reference internal" href="polygons.html"><em>Polygons</em></a>.</li>
<li><strong>lipsync</strong>: This contains files that tell <strong>SCI</strong>Companion how to map phonemes to mouth cels, and which talkers use which mouth view/loops. See <a class="reference internal" href="lipsync.html"><em>Lip-syncing</em></a>.</li>
<li><strong>audiocache</strong>: This is where <strong>SCI</strong>Companion keeps <a class="reference internal" href="audiofiles.html"><em>Audio file management.</em></a>.</li>
</ul>
</div>
<div class="section" id="other-files">
<h2>Other files<a class="headerlink" href="#other-files" title="Permalink to this headline">¶</a></h2>
<p>You&#8217;ll notice a few other stray files in the game folder. In the SCI1.1 template game, <strong>INTERP.ERR</strong> and <strong>VERSION</strong> are essential for the
game to work with Sierra&#8217;s interpreter, <em>so don&#8217;t change or remove them</em>.</p>
<p><strong>INSTALL.EXE</strong> and the other files that begin with INSTALL comprise a DOS
app that lets you configure <strong>resource.cfg</strong> via a series of menus. These can be removed.</p>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="decompiler.html" class="btn btn-neutral float-right" title="Decompiler" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="palettecycling.html" class="btn btn-neutral" title="Palette cycling" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, Phil Fortier.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'3.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>